<!DOCTYPE HTML SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title data-th-text="'Cookies ('+${shortHost}+')'">Title</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <!-- Required Bootstrap meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>

<div class="container" style="max-width:720px">
    <header>
        <h1 data-th-text="'Cookies ('+${shortHost}+')'">Title</h1>
        <p data-th-text="'From '+${host}">Host</p>
    </header>

    <h2>Introduction</h2>
    <p>This page demos the Cookie scope


    <h2>Visits Cookie and the Cookie domain attribute</h2>


    <p>The
        <mark>visits</mark>
        cookie is a counter.
    </p>
    <p>If the cookie is present in the browser, the browser send it to the server.
        The server increments it by one or create if it does not get it from the browser and sends it back in the
        response to the browser.
    </p>

    <p>It permits to tell you that you have loaded/visited this page:</p>

    <script language="JavaScript">
    $(document).ready(function () {
        $('#totalTimes').html($.cookie('visits'));
    });

    </script>
    <p style="font-size:28px;text-align:center"><span id="totalTimes">0</span> time(s)!</p>

    <p>You have visited this domain:</p>

    <script language="JavaScript">
    $(document).ready(function () {
        $('#domainVisits').html($.cookie('visitsDomain'));
    });

    </script>
    <p style="font-size:28px;text-align:center"><span id="domainVisits">0</span> time(s)!</p>

    <p>This cookie is set only for the domain
        <mark data-th-text="${host}">host</mark>
        that you visits and see in the browser address bar.
    </p>
    <p>Therefore if you open this page from another domain the
        <mark>visits</mark>
        counter is not incremented.
    </p>
    <p>Try it, click on one of the below links, refresh the page and you should see that the
        <mark>visits</mark>
        value of the cookie are independent
    </p>
    <ul>
        <li><a href="http://foo.example.com:8080" target="_blank">http://foo.example.com</a></li>
        <li><a href="http://bar.example.com:8080" target="_blank">http://bar.example.com</a></li>
        <li><a href="http://third.com:8080" target="_blank">http://third.com</a></li>
    </ul>

    <br>
    <br>

    <a href="/">refresh</a>

    <p>Form</p>
    <form>
        <input type="submit" name="action" value="Set Cookie To Bar"/>
        <input type="submit" name="action" value="Set Cookie To Foo"/>
        <input type="submit" name="action" value="Set Cookie To Top"/>
    </form>

    <div data-th-replace="templates/fragments/http_headers.html">Http Headers list</div>


</div>
</body>
</html>
